(this.webpackJsonpelfsight_test_app=this.webpackJsonpelfsight_test_app||[]).push([[0],{10:function(t,e,n){t.exports={modal:"Photos_modal__2Pnlh",modalImg:"Photos_modalImg__1dmW1",photosWrapper:"Photos_photosWrapper__3uoMb",blur:"Photos_blur__2ssIL",next:"Photos_next__2PYkS",prev:"Photos_prev__12pap",close:"Photos_close__3rlRr",back:"Photos_back__36_nS",closeArea:"Photos_closeArea__MqivD"}},24:function(t,e,n){t.exports={li:"Albums_li__YCF0d",albumsWrapper:"Albums_albumsWrapper__38msM",label:"Albums_label__3nsAo"}},28:function(t,e,n){t.exports={autors:"Autors_autors__2hwuY",li:"Autors_li__u1uxg"}},41:function(t,e,n){t.exports={loader:"Preloader_loader__3tycR"}},47:function(t,e,n){},48:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(0),a=n.n(o),s=n(13),r=n.n(s),i=(n(47),n(48),n(15)),l=n(16),u=n(20),p=n(18),b=n(11),d=n(28),h=n.n(d),j=function(t){return Object(c.jsx)("div",{className:h.a.autors,children:Object(c.jsx)("ul",{children:t.state.autorsData.map((function(e){return Object(c.jsx)("li",{className:h.a.li,onClick:function(){t.onAutorClick(e.id)},children:e.name},e.id)}))})})},m=n(19),O=n(2),f="SET_AUTORS",g="SELECT_AUTOR",v={autorsData:[],activeAutor:1},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return Object(O.a)(Object(O.a)({},t),{},{autorsData:Object(m.a)(e.autors)});case g:return Object(O.a)(Object(O.a)({},t),{},{activeAutor:e.id});default:return t}},x="SET_ALBUMS",A="SELECT_ALBUM",C="SET_COVER",y="SET_ALBUM_LENGTH",P="TOGGLE_IS_FETCHING",k={albumsData:[],covers:[],activeAlbum:1,isFetching:!1},U=function(t){return{type:x,albums:t}},D=function(t,e){return{type:C,id:e,url:t}},E=function(t,e){return{type:y,id:e,l:t}},F=function(t){return{type:P,isFetching:t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(O.a)(Object(O.a)({},t),{},{albumsData:Object(m.a)(e.albums)});case A:return Object(O.a)(Object(O.a)({},t),{},{activeAlbum:e.id});case P:return Object(O.a)(Object(O.a)({},t),{},{isFetching:e.isFetching});case C:return Object(O.a)(Object(O.a)({},t),{},{albumsData:t.albumsData.map((function(t){return t.id===e.id?Object(O.a)(Object(O.a)({},t),{},{cover:e.url}):Object(O.a)({},t)}))});case y:return Object(O.a)(Object(O.a)({},t),{},{albumsData:t.albumsData.map((function(t){return t.id===e.id?Object(O.a)(Object(O.a)({},t),{},{lenght:e.l}):Object(O.a)({},t)}))});default:return t}},S=n(12),N=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).onAutorClick=function(e){t.props.toggleIsFetching(!0),t.props.onAutorSelect(e),S.get("https://jsonplaceholder.typicode.com/users/".concat(e,"/albums")).then((function(e){e.data.forEach((function(e){S.get("https://jsonplaceholder.typicode.com/albums/".concat(e.id,"/photos")).then((function(n){t.props.toggleIsFetching(!1),t.props.setCover(n.data[0].thumbnailUrl,e.id),t.props.setAlbumLength(n.data.length,e.id)}))})),t.props.setAlbums(e.data)}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;S.get("https://jsonplaceholder.typicode.com/users/").then((function(e){t.props.setAutors(e.data)}))}},{key:"render",value:function(){return Object(c.jsx)(j,{state:this.props.state,onAutorClick:this.onAutorClick})}}]),n}(a.a.Component),T=Object(b.b)((function(t){return{state:t.autorsPage}}),(function(t){return{onAutorSelect:function(e){t(function(t){return{type:g,id:t}}(e))},setAlbums:function(e){t(U(e))},setAlbumLength:function(e,n){t(E(e,n))},setAutors:function(e){t(function(t){return{type:f,autors:t}}(e))},setCover:function(e,n){t(D(e,n))},toggleIsFetching:function(e){t(F(e))}}}))(N),L=n(17),w=n(24),B=n.n(w),M=n(41),W=n.n(M),H=n.p+"static/media/loader.e88c5d6a.svg",G=function(){return Object(c.jsx)("div",{className:W.a.loader,children:Object(c.jsx)("img",{src:H,alt:""})})},R=function(t){return Object(c.jsx)("div",{children:t.state.isFetching?Object(c.jsx)(G,{}):Object(c.jsx)("div",{className:B.a.albumsWrapper,children:t.state.albumsData.map((function(e){return Object(c.jsx)("div",{className:B.a.li,onClick:function(){t.onAlbumClick(e.id)},children:Object(c.jsxs)(L.b,{to:"/".concat(e.id),children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:e.cover,alt:""})}),Object(c.jsx)("span",{className:B.a.label,children:e.title}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"".concat(e.lenght," photos")})]})},e.id)}))})})},Y="SET_PHOTOS",J="SELECT_PHOTO",q="CHANGE_PHOTO",V="CLOSE_POPUP",z={photosData:[],popUpUrl:null,popUpIndex:null},K=function(t){return{type:Y,photos:t}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Y:return Object(O.a)(Object(O.a)({},t),{},{photosData:Object(m.a)(e.photos)});case J:return Object(O.a)(Object(O.a)({},t),{},{popUpUrl:e.url,popUpIndex:e.index});case V:return Object(O.a)(Object(O.a)({},t),{},{popUpUrl:null,popUpIndex:null});case q:var n=t.popUpIndex;return e.direction?n===t.photosData.length-1?n=0:n++:e.direction||(0===n?n=t.photosData.length-1:n--),Object(O.a)(Object(O.a)({},t),{},{popUpUrl:t.photosData[n].url,popUpIndex:n});default:return t}},X=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).onAlbumClick=function(e){t.props.toggleIsFetching(!0),t.props.onAlbumSelect(e),S.get("https://jsonplaceholder.typicode.com/albums/".concat(e,"/photos")).then((function(e){t.props.setPhotos(e.data),t.props.toggleIsFetching(!1)}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.toggleIsFetching(!0),S.get("https://jsonplaceholder.typicode.com/users/".concat(this.props.activeAutor,"/albums")).then((function(e){e.data.forEach((function(e){S.get("https://jsonplaceholder.typicode.com/albums/".concat(e.id,"/photos")).then((function(n){t.props.toggleIsFetching(!1),t.props.setCover(n.data[0].thumbnailUrl,e.id),t.props.setAlbumLength(n.data.length,e.id)}))})),t.props.setAlbums(e.data)}))}},{key:"render",value:function(){return Object(c.jsx)(R,{state:this.props.state,onAlbumClick:this.onAlbumClick})}}]),n}(a.a.Component),Z=Object(b.b)((function(t){return{state:t.albumsPage,activeAutor:t.autorsPage.activeAutor}}),(function(t){return{setAlbums:function(e){t(U(e))},setCover:function(e,n){t(D(e,n))},setAlbumLength:function(e,n){t(E(e,n))},setPhotos:function(e){t(K(e))},onAlbumSelect:function(e){t(function(t){return{type:A,id:t}}(e))},toggleIsFetching:function(e){t(F(e))}}}))(X),$=n(4),tt=document.getElementById("modal-root"),et=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var c;return Object(i.a)(this,n),(c=e.call(this,t)).el=document.createElement("div"),c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){tt.appendChild(this.el),document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){tt.removeChild(this.el),document.body.style.overflow="auto"}},{key:"render",value:function(){return r.a.createPortal(this.props.children,this.el)}}]),n}(a.a.Component),nt=n(10),ct=n.n(nt),ot=function(t){var e=t.state.popUpUrl,n=function(e){t.onBtnDirectionClick(e)};return Object(c.jsxs)("div",{children:[null===e?null:Object(c.jsx)(et,{children:Object(c.jsxs)("div",{className:ct.a.modal,children:[Object(c.jsx)("div",{className:ct.a.closeArea,onClick:function(){t.onBtnCloseClick()},children:Object(c.jsx)("div",{className:ct.a.close})}),Object(c.jsxs)("div",{className:ct.a.modalImg,children:[Object(c.jsx)("div",{className:ct.a.prev,onClick:function(){n(!1)}}),Object(c.jsx)("img",{src:e,alt:""}),Object(c.jsx)("div",{className:ct.a.next,onClick:function(){n(!0)}})]})]})}),t.isFetching?Object(c.jsx)(G,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)(L.b,{to:"/",children:Object(c.jsx)("div",{className:"".concat(ct.a.back," ").concat(null===e?null:ct.a.blur)})}),Object(c.jsx)("div",{className:"".concat(ct.a.photosWrapper," ").concat(null===e?null:ct.a.blur),children:t.state.photosData.map((function(e,n){return Object(c.jsx)("div",{onClick:function(){!function(e,n){t.onPhotoClick(e,n)}(e.url,n)},children:Object(c.jsx)("img",{src:e.thumbnailUrl,alt:e.id})},e.id)}))})]})]})},at=Object(b.b)((function(t){return{state:t.photosPage,isFetching:t.albumsPage.isFetching,activeAutor:t.autorsPage.activeAutor}}),(function(t){return{setPhotos:function(e){t(K(e))},onPhotoClick:function(e,n){t(function(t,e){return{type:J,url:t,index:e}}(e,n))},onBtnDirectionClick:function(e){t(function(t){return{type:q,direction:t}}(e))},onBtnCloseClick:function(){t({type:V})}}}))(ot);var st=function(){return Object(c.jsx)(L.a,{basename:"/elfsight_test_app",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"app-wrapper",children:Object(c.jsxs)($.a,{exact:!0,path:"/",children:[Object(c.jsx)(T,{}),Object(c.jsx)(Z,{})]})}),Object(c.jsx)($.a,{exact:!0,path:"/:id",component:at})]})})},rt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),o(t),a(t),s(t)}))},it=n(22),lt=Object(it.b)({autorsPage:_,albumsPage:I,photosPage:Q}),ut=Object(it.c)(lt);r.a.render(Object(c.jsx)(b.a,{store:ut,children:Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(st,{})})}),document.getElementById("root")),rt()}},[[71,1,2]]]);
//# sourceMappingURL=main.2fc42d1f.chunk.js.map